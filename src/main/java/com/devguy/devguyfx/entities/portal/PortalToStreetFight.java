package com.devguy.devguyfx.entities.portal;

import com.devguy.devguyfx.entities.Entity1D;
import com.devguy.devguyfx.level.Level;
import com.devguy.devguyfx.level.Streamer;
import com.devguy.devguyfx.level.StreetFight;

public class PortalToStreetFight extends Portal {

    public PortalToStreetFight(Level currentLevel, String name) {
        super(currentLevel, name);
        this.loops = true;
        this.animationState = new char[][][][]{{
                {
                        {' ', ' ', '_', '_', '_', '_', ' ', ' '},
                        {'○', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', ' ', ' ', ' ', ' ', '|', ' '},
                        {' ', '|', ' ', ' ', ' ', ' ', '|', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', ' ', ' '}
                },
                {
                        {' ', ' ', '_', '_', '_', '_', ' ', ' '},
                        {'○', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', ' ', '.', ' ', ' ', '|', ' '},
                        {' ', '|', ' ', ' ', ' ', ' ', '|', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', ' ', ' '}
                },
                {
                        {' ', ' ', '_', '_', '_', '_', ' ', ' '},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', ' ', '.', '.', ' ', '|', ' '},
                        {' ', '|', ' ', ' ', ' ', ' ', '|', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', '○', ' '}
                },
                {
                        {' ', ' ', '_', '_', '_', '_', ' ', ' '},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', ' ', '.', '.', ' ', '|', ' '},
                        {' ', '|', ' ', ' ', '.', ' ', '|', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', '○', ' '}
                },
                {
                        {'○', ' ', '_', '_', '_', '_', ' ', ' '},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', ' ', '.', '.', ' ', '|', ' '},
                        {' ', '|', ' ', ' ', '.', ' ', '|', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', ' ', '○'}
                },
                {
                        {'○', ' ', '_', '_', '_', '_', ' ', ' '},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', ' ', '.', '.', ' ', '|', ' '},
                        {' ', '|', ' ', ' ', '.', ' ', '|', ' '},
                        {'○', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', ' ', '○'}
                },
                {
                        {' ', ' ', '_', '_', '_', '_', ' ', ' '},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', '○'},
                        {' ', '|', ' ', '.', '.', ' ', '|', ' '},
                        {' ', '|', ' ', ' ', '.', ' ', '|', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', '○', ' '}
                },
                {
                        {' ', ' ', '_', '_', '_', '_', ' ', ' '},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {'○', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', ' ', '.', '.', ' ', '|', '○'},
                        {' ', '|', ' ', ' ', '.', ' ', '|', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', '○', ' '}
                },
                {
                        {'○', ' ', '_', '_', '_', '_', ' ', ' '},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', ' ', '.', '.', ' ', '|', ' '},
                        {' ', '|', ' ', '.', '.', ' ', '|', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', ' ', ' '}
                },
                {
                        {'○', ' ', '_', '_', '_', '_', ' ', '○'},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', ' ', '.', '.', ' ', '|', ' '},
                        {' ', '|', ' ', '.', '.', ' ', '|', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', ' ', ' '}
                },
                {
                        {'○', ' ', '_', '_', '_', '_', ' ', ' '},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', ' ', '.', '.', ' ', '|', ' '},
                        {' ', '|', '.', '.', '.', ' ', '|', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', '○'},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', ' ', ' '}
                },
                {
                        {'○', ' ', '_', '_', '_', '_', ' ', ' '},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', '.', '.', '.', ' ', '|', ' '},
                        {' ', '|', '.', '.', '.', ' ', '|', '○'},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {' ', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', ' ', ' '}
                },
                {
                        {' ', ' ', '_', '_', '_', '_', ' ', ' '},
                        {' ', '/', ' ', ' ', ' ', ' ', '\\', ' '},
                        {' ', '(', '.', ' ', ' ', ' ', ')', ' '},
                        {' ', '|', '.', '.', '.', ' ', '|', ' '},
                        {' ', '|', '.', '.', '.', ' ', '|', '○'},
                        {' ', '(', ' ', ' ', ' ', ' ', ')', ' '},
                        {'○', '\\', ' ', ' ', ' ', ' ', '/', ' '},
                        {' ', ' ', '¯', '¯', '¯', '¯', ' ', ' '}
                },
        }};
        this.selectedAnimationFrames = this.animationState[this.currentAnimationState];
        this.frameDurationMs = 20;
        this.visible = false;
        if (this.currentLevel.quest != null)
            this.currentLevel.quest.watchedEntities.add(this);
    }

    @Override
    public boolean use(Entity1D instigator) throws Level.InvalidTemplateMap {
        Streamer streamer = currentLevel.streamer;
        StreetFight streetFight = new StreetFight(streamer.width, streamer.height, streamer);
        streamer.loadLevel(streetFight);
        return true;
    }

    /**
     * Decays item by milliseconds
     *
     * @param ticksMs milliseconds to decay from item
     */
    @Override
    public void decayEffectFromItems(long ticksMs) {

    }
}
